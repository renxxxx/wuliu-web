<!DOCTYPE html>
<html>

<head>

    <title>集贤装-运维-用户详情</title>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
    <script src="https://lib.sinaapp.com/js/jquery/1.9.0/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./jquery-easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="./jquery-easyui/themes/icon.css">
    <script type="text/javascript" src="./jquery-easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="./jquery-easyui/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="./jquery-viewer/js/viewer.min.js"></script>
    <link rel="stylesheet" href="./jquery-viewer/css/viewer.min.css">
    <script src="./jquery-viewer/js/viewer-jquery.min.js"></script>
    <script src="./layer/layer.js"></script>
    <script src="./js/util.js"></script>
    <script src="./js/project.js"></script>
    <link rel="stylesheet" href="./css/project.css">
    <script src="./js/moment.js"></script>
    <style></style>
</head>

<script>
var config = null;
    $.ajax({
        url:'../config.json',
        async:false,
        success:function(res){
            config=res;
        }
    })

    layer.config({offset: '200px'});
    $.ajaxPrefilter( function( options, originalOptions, jqXHR ) {
        $('#doingTag').show();
    });
    $.ajaxSetup({
        complete:function(){
            $('#doingTag').hide();
        },
        error:function(xhr){
            
        }
    })

    var qso = util.queryStringObject();
    qso.userId;
    var item = {}

    $.ajax({
        type: 'get',
        url: `/wuliu/maintain/user-manage/user-info?userId=${qso.userId}`,
        async: false,
        success: function (res) {
            debugger
            if (res.codeMsg)
                layer.msg(res.codeMsg);
            if (res.code == 0) {
                item = res.data;
            }
        }
    })

    $.parser.onComplete = function () {
        debugger
    }

    $(document).ready(function(){
        debugger
    })

    function itemUpdate(){
        debugger
        $.messager.confirm('提示','确认修改吗?',function(r){
            if(r){
                $.ajax({
                        type: 'post',
                        url: '/wuliu/maintain/user-manage/user-update',
                        data: item,
                        success: function (res) {
                            debugger
                            if (res.codeMsg)
                                $.messager.alert('提示',res.codeMsg);
                            if (res.code == 0) {
                                if (!res.codeMsg)
                                    $.messager.alert('提示','修改成功',null,function(){ location.reload()});
                            } 
                        }
                    })
            }
        })
    }
             
    function itemDelete(){
        debugger
        $.messager.confirm('提示','确认删除吗？', function(r){
            if(r)
            $.ajax({
                type: 'post',
                url: '/wuliu/maintain/user-manage/users-delete',
                data: {userId:item.userId,expectCount:1},
                success: function (res) {
                    debugger
                    if (res.codeMsg)
                        $.messager.alert('提示',res.codeMsg);
                    if (res.code == 0) {
                        if (!res.codeMsg)
                            $.messager.alert('提示','删除成功',null,function(){ location.reload()});
                    } 
                }
            })
        });             
    }
             
    function frozenUser(){
        debugger
        $.messager.prompt('提示','请输入冻结原因',function(r){
                if (r){
                    reason = r;
                    $.messager.confirm('提示','确认冻结吗？', function(r){
            if(r)
            $.ajax({
                                type: 'post',
                                url: '/wuliu/maintain/user-manage/user-frozen',
                                data: {userId:item.userId,reason:reason,expectedItemCount:1},
                                success: function (res) {
                                    debugger
                                    if (res.codeMsg)
                                        $.messager.alert('提示',res.codeMsg);
                                    if (res.code == 0) {
                                        if (!res.codeMsg)
                                            $.messager.alert('提示','操作成功',null,function(){ location.reload()});
                                    } 
                                }
                            })
            });     

                }
        })    
    }

    function unfrozenUser(){
        debugger
        $.messager.confirm('提示','确认解冻吗？', function(r){
            if(r)
            $.ajax({
                                type: 'post',
                                url: '/wuliu/maintain/user-manage/user-unfrozen',
                                data: {userId:item.userId,expectedItemCount:1},
                                success: function (res) {
                                    debugger
                                    if (res.codeMsg)
                                        $.messager.alert('提示',res.codeMsg);
                                    if (res.code == 0) {
                                        if (!res.codeMsg)
                                            $.messager.alert('提示','解冻成功',null,function(){ location.reload()});
                                    } 
                                }
                            })
            });          
    }



        
</script>

<body style="margin:0;padding:0;">
    <img id="doingTag" src="./image/doing.gif" style="width:100%;height:5px;position: absolute;top:0;z-index: 999999;display:none;" />
    <table id="datagrid"  data-options="singleSelect:true, footer: '#datagridFoot',title:'用户详情'">
        <thead>
            <tr>
                <th data-options="field:'name',width:200,align:'right'">属性&nbsp;</th>
                <th data-options="field:'value',width:500">值</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>用户Id&nbsp;</td>
                <td>
                    <span id="userId" style="margin-left:5px;"></span>
                    <img src="./favicon.ico" onload="$('#userId').text(item.userId||'')" style="display:none;"/>
                </td>
            </tr>
            <tr>
                <td>昵称&nbsp;</td>
                <td>
                    <input id="nickname" class="easyui-textbox" style="width:100%" 
                        data-options="
                            value:item.nickname,
                            iconWidth:20,
                            icons:[{
                                iconCls:'icon-clear',
                                handler: function(e){
                                    debugger
                                    $(e.data.target).textbox('setValue','');
                                }
                            }],
                            onChange:function(newValue, oldValue){
                                item.nickname=newValue
                            }
                        "
                    />
                </td>
            </tr>
            <tr>
                <td>账号&nbsp;</td>
                <td><input id="account" class="easyui-textbox" style="width:100%" data-options="
                    value:item.account,
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            debugger
                            $(e.data.target).textbox('setValue','');
                        }
                    }],
                    onChange:function(newValue, oldValue){
                        item.account=newValue
                    }" style="width:200px"></td>
            </tr>
            <tr>
                <td>手机&nbsp;</td>
                <td><input id="phone" class="easyui-textbox" style="width:100%" data-options="
                    value:item.phone,
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            debugger
                            $(e.data.target).textbox('setValue','');
                        }
                    }],
                    onChange:function(newValue, oldValue){
                        item.phone=newValue
                    }" style="width:200px"></td>
            </tr>
            
            <tr>
            </tr>
            <tr>
                <td><span style="font-weight: 900;">所属地区</span></td>
            </tr>
            <tr>
                <td>全部区域&nbsp;</td>
                <td><input id="realname" class="easyui-checkbox" style="cursor: pointer;" data-options="
                    checked:item.inAllAreaIs,
                    onChange:function(newValue, oldValue){
                        item.inAllAreaIs=newValue+1-1
                    }" ></td>
            </tr>
            <tr>
                <td>地区1</td>
                <td><input id="inArea1Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.inArea1Id,
                    text:item.inArea1Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        $.ajax({
                            url: '../other/area.json',
                            type: 'get',
                            data: {},
                            success: function (data) {
                                debugger
                                
                                for(var i=0;i<data.length;i++){
                                    $('#inArea1Id')[0]['inArea'+data[i].code]=data[i].children
                                }
                                $('#inArea2Id').combobox('reload')

                                success({rows:data});
                            }
                        })
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.inArea1Id=newValue
                        item.inArea1Name= $('#inArea1Id').combobox('getText')

                        item.inArea2Id=null;
                        item.inArea2Name=null;
                        $('#inArea2Id').combobox('setText',null)
                        $('#inArea2Id').combobox('setValue',null)

                        item.inArea3Id=null;
                        item.inArea3Name=null;
                        $('#inArea3Id').combobox('setText',null)
                        $('#inArea3Id').combobox('setValue',null)


                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.inArea1Id=null;
                            item.inArea1Name=null;
                            $('#inArea1Id').combobox('setText',null)
                            $('#inArea1Id').combobox('setValue',null)

                            item.inArea2Id=null;
                            item.inArea2Name=null;
                            $('#inArea2Id').combobox('setText',null)
                            $('#inArea2Id').combobox('setValue',null)

                            item.inArea3Id=null;
                            item.inArea3Name=null;
                            $('#inArea3Id').combobox('setText',null)
                            $('#inArea3Id').combobox('setValue',null)

                        }
                    }]
                    ">
                    <input id="inArea2Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.inArea2Id,
                    text:item.inArea2Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },

                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#inArea1Id')[0]['inArea'+item.inArea1Id];
                        for(var i=0;ss && i<ss.length;i++){
                            debugger
                            $('#inArea2Id')[0]['inArea'+ss[i].code]=ss[i].children
                        }
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.inArea2Id=newValue
                        item.inArea2Name= $('#inArea2Id').combobox('getText')

                        item.inArea3Id=null;
                        item.inArea3Name=null;
                        $('#inArea3Id').combobox('setText',null)
                        $('#inArea3Id').combobox('setValue',null)

                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.inArea2Id=null;
                            item.inArea2Name=null;
                            $('#inArea2Id').combobox('setText',null)
                            $('#inArea2Id').combobox('setValue',null)

                            item.inArea3Id=null;
                            item.inArea3Name=null;
                            $('#inArea3Id').combobox('setText',null)
                            $('#inArea3Id').combobox('setValue',null)
                        }
                    }]
                    ">
                    <input id="inArea3Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.inArea3Id,
                    text:item.inArea3Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#inArea2Id')[0]['inArea'+item.inArea2Id];
                        
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.inArea3Id=newValue
                        item.inArea3Name= $('#inArea3Id').combobox('getText')

                       
                        
                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.inArea3Id=null;
                            item.inArea3Name=null;
                            $('#inArea3Id').combobox('setText',null)
                            $('#inArea3Id').combobox('setValue',null)
                        }
                    }]
                    "></td>
            </tr>

            <tr>
                <td>地区2</td>
                <td><input id="in1Area1Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in1Area1Id,
                    text:item.in1Area1Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        $.ajax({
                            url: '../other/area.json',
                            type: 'get',
                            data: {},
                            success: function (data) {
                                debugger
                                
                                for(var i=0;i<data.length;i++){
                                    $('#in1Area1Id')[0]['in1Area'+data[i].code]=data[i].children
                                }
                                $('#in1Area2Id').combobox('reload')

                                success({rows:data});
                            }
                        })
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in1Area1Id=newValue
                        item.in1Area1Name= $('#in1Area1Id').combobox('getText')

                        item.in1Area2Id=null;
                        item.in1Area2Name=null;
                        $('#in1Area2Id').combobox('setText',null)
                        $('#in1Area2Id').combobox('setValue',null)

                        item.in1Area3Id=null;
                        item.in1Area3Name=null;
                        $('#in1Area3Id').combobox('setText',null)
                        $('#in1Area3Id').combobox('setValue',null)


                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in1Area1Id=null;
                            item.in1Area1Name=null;
                            $('#in1Area1Id').combobox('setText',null)
                            $('#in1Area1Id').combobox('setValue',null)

                            item.in1Area2Id=null;
                            item.in1Area2Name=null;
                            $('#in1Area2Id').combobox('setText',null)
                            $('#in1Area2Id').combobox('setValue',null)

                            item.in1Area3Id=null;
                            item.in1Area3Name=null;
                            $('#in1Area3Id').combobox('setText',null)
                            $('#in1Area3Id').combobox('setValue',null)

                        }
                    }]
                    ">
                    <input id="in1Area2Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in1Area2Id,
                    text:item.in1Area2Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },

                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#in1Area1Id')[0]['in1Area'+item.in1Area1Id];
                        for(var i=0;ss && i<ss.length;i++){
                            debugger
                            $('#in1Area2Id')[0]['in1Area'+ss[i].code]=ss[i].children
                        }
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in1Area2Id=newValue
                        item.in1Area2Name= $('#in1Area2Id').combobox('getText')

                        item.in1Area3Id=null;
                        item.in1Area3Name=null;
                        $('#in1Area3Id').combobox('setText',null)
                        $('#in1Area3Id').combobox('setValue',null)

                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in1Area2Id=null;
                            item.in1Area2Name=null;
                            $('#in1Area2Id').combobox('setText',null)
                            $('#in1Area2Id').combobox('setValue',null)

                            item.in1Area3Id=null;
                            item.in1Area3Name=null;
                            $('#in1Area3Id').combobox('setText',null)
                            $('#in1Area3Id').combobox('setValue',null)
                        }
                    }]
                    ">
                    <input id="in1Area3Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in1Area3Id,
                    text:item.in1Area3Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#in1Area2Id')[0]['in1Area'+item.in1Area2Id];
                        
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in1Area3Id=newValue
                        item.in1Area3Name= $('#in1Area3Id').combobox('getText')

                       
                        
                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in1Area3Id=null;
                            item.in1Area3Name=null;
                            $('#in1Area3Id').combobox('setText',null)
                            $('#in1Area3Id').combobox('setValue',null)
                        }
                    }]
                    "></td>
            </tr>

            <tr>
                <td>地区3</td>
                <td><input id="in2Area1Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in2Area1Id,
                    text:item.in2Area1Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        $.ajax({
                            url: '../other/area.json',
                            type: 'get',
                            data: {},
                            success: function (data) {
                                debugger
                                
                                for(var i=0;i<data.length;i++){
                                    $('#in2Area1Id')[0]['in2Area'+data[i].code]=data[i].children
                                }
                                $('#in2Area2Id').combobox('reload')

                                success({rows:data});
                            }
                        })
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in2Area1Id=newValue
                        item.in2Area1Name= $('#in2Area1Id').combobox('getText')

                        item.in2Area2Id=null;
                        item.in2Area2Name=null;
                        $('#in2Area2Id').combobox('setText',null)
                        $('#in2Area2Id').combobox('setValue',null)

                        item.in2Area3Id=null;
                        item.in2Area3Name=null;
                        $('#in2Area3Id').combobox('setText',null)
                        $('#in2Area3Id').combobox('setValue',null)


                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in2Area1Id=null;
                            item.in2Area1Name=null;
                            $('#in2Area1Id').combobox('setText',null)
                            $('#in2Area1Id').combobox('setValue',null)

                            item.in2Area2Id=null;
                            item.in2Area2Name=null;
                            $('#in2Area2Id').combobox('setText',null)
                            $('#in2Area2Id').combobox('setValue',null)

                            item.in2Area3Id=null;
                            item.in2Area3Name=null;
                            $('#in2Area3Id').combobox('setText',null)
                            $('#in2Area3Id').combobox('setValue',null)

                        }
                    }]
                    ">
                    <input id="in2Area2Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in2Area2Id,
                    text:item.in2Area2Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },

                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#in2Area1Id')[0]['in2Area'+item.in2Area1Id];
                        for(var i=0;ss && i<ss.length;i++){
                            debugger
                            $('#in2Area2Id')[0]['in2Area'+ss[i].code]=ss[i].children
                        }
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in2Area2Id=newValue
                        item.in2Area2Name= $('#in2Area2Id').combobox('getText')

                        item.in2Area3Id=null;
                        item.in2Area3Name=null;
                        $('#in2Area3Id').combobox('setText',null)
                        $('#in2Area3Id').combobox('setValue',null)

                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in2Area2Id=null;
                            item.in2Area2Name=null;
                            $('#in2Area2Id').combobox('setText',null)
                            $('#in2Area2Id').combobox('setValue',null)

                            item.in2Area3Id=null;
                            item.in2Area3Name=null;
                            $('#in2Area3Id').combobox('setText',null)
                            $('#in2Area3Id').combobox('setValue',null)
                        }
                    }]
                    ">
                    <input id="in2Area3Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in2Area3Id,
                    text:item.in2Area3Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#in2Area2Id')[0]['in2Area'+item.in2Area2Id];
                        
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in2Area3Id=newValue
                        item.in2Area3Name= $('#in2Area3Id').combobox('getText')

                       
                        
                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in2Area3Id=null;
                            item.in2Area3Name=null;
                            $('#in2Area3Id').combobox('setText',null)
                            $('#in2Area3Id').combobox('setValue',null)
                        }
                    }]
                    "></td>
            </tr>

            <tr>
                <td>地区4</td>
                <td><input id="in3Area1Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in3Area1Id,
                    text:item.in3Area1Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        $.ajax({
                            url: '../other/area.json',
                            type: 'get',
                            data: {},
                            success: function (data) {
                                debugger
                                
                                for(var i=0;i<data.length;i++){
                                    $('#in3Area1Id')[0]['in3Area'+data[i].code]=data[i].children
                                }
                                $('#in3Area2Id').combobox('reload')

                                success({rows:data});
                            }
                        })
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in3Area1Id=newValue
                        item.in3Area1Name= $('#in3Area1Id').combobox('getText')

                        item.in3Area2Id=null;
                        item.in3Area2Name=null;
                        $('#in3Area2Id').combobox('setText',null)
                        $('#in3Area2Id').combobox('setValue',null)

                        item.in3Area3Id=null;
                        item.in3Area3Name=null;
                        $('#in3Area3Id').combobox('setText',null)
                        $('#in3Area3Id').combobox('setValue',null)


                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in3Area1Id=null;
                            item.in3Area1Name=null;
                            $('#in3Area1Id').combobox('setText',null)
                            $('#in3Area1Id').combobox('setValue',null)

                            item.in3Area2Id=null;
                            item.in3Area2Name=null;
                            $('#in3Area2Id').combobox('setText',null)
                            $('#in3Area2Id').combobox('setValue',null)

                            item.in3Area3Id=null;
                            item.in3Area3Name=null;
                            $('#in3Area3Id').combobox('setText',null)
                            $('#in3Area3Id').combobox('setValue',null)

                        }
                    }]
                    ">
                    <input id="in3Area2Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in3Area2Id,
                    text:item.in3Area2Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },

                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#in3Area1Id')[0]['in3Area'+item.in3Area1Id];
                        for(var i=0;ss && i<ss.length;i++){
                            debugger
                            $('#in3Area2Id')[0]['in3Area'+ss[i].code]=ss[i].children
                        }
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in3Area2Id=newValue
                        item.in3Area2Name= $('#in3Area2Id').combobox('getText')

                        item.in3Area3Id=null;
                        item.in3Area3Name=null;
                        $('#in3Area3Id').combobox('setText',null)
                        $('#in3Area3Id').combobox('setValue',null)

                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in3Area2Id=null;
                            item.in3Area2Name=null;
                            $('#in3Area2Id').combobox('setText',null)
                            $('#in3Area2Id').combobox('setValue',null)

                            item.in3Area3Id=null;
                            item.in3Area3Name=null;
                            $('#in3Area3Id').combobox('setText',null)
                            $('#in3Area3Id').combobox('setValue',null)
                        }
                    }]
                    ">
                    <input id="in3Area3Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.in3Area3Id,
                    text:item.in3Area3Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#in3Area2Id')[0]['in3Area'+item.in3Area2Id];
                        
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.in3Area3Id=newValue
                        item.in3Area3Name= $('#in3Area3Id').combobox('getText')

                       
                        
                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.in3Area3Id=null;
                            item.in3Area3Name=null;
                            $('#in3Area3Id').combobox('setText',null)
                            $('#in3Area3Id').combobox('setValue',null)
                        }
                    }]
                    "></td>
            </tr>

            <tr>
            </tr>
            <tr>
                <td>管理员&nbsp;</td>
                <td><input id="adminIs" class="easyui-combobox" style="width:100%" data-options="
                                value:item.adminIs,
                                editable:false,panelHeight:'auto',
                                data:[ {
                                    text: '否',
                                    value: '0'
                                },{
                                     text: '是',
                                     value: '1'
                                 }],
                                 iconWidth:20,
                                 icons:[{
                                     iconCls:'icon-clear',
                                     handler: function(e){
                                         $(e.data.target).combobox('setValue','');
                                     }
                                 }],
                                 onChange:function(newValue, oldValue){
                                    item.adminIs=newValue
                                 }" /></td>
            </tr>
            <tr>
                <td>运维&nbsp;</td>
                <td><input id="maintainIs" class="easyui-combobox" style="width:100%" data-options="
                                value:item.maintainIs,
                                editable:false,panelHeight:'auto',
                                data:[ {
                                    text: '否',
                                    value: '0'
                                },{
                                     text: '是',
                                     value: '1'
                                 }],
                                 iconWidth:20,
                                 icons:[{
                                     iconCls:'icon-clear',
                                     handler: function(e){
                                         $(e.data.target).combobox('setValue','');
                                     }
                                 }],
                                 onChange:function(newValue, oldValue){
                                    item.maintainIs=newValue
                                 }" /></td>
            </tr>
            <tr>
                <td><span style="font-weight: 900;">管辖地区</span></td>
            </tr>
            <tr>
                <td>全部区域&nbsp;</td>
                <td><input id="maintainAllAreaIs" class="easyui-checkbox" style="cursor: pointer;" data-options="
                    checked:item.maintainAllAreaIs,
                    onChange:function(newValue, oldValue){
                        item.maintainAllAreaIs=newValue+1-1
                    }" ></td>
            </tr>
            <tr>
                <td>地区1</td>
                <td><input id="maintainArea1Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea1Id,
                    text:item.maintainArea1Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        $.ajax({
                            url: '../other/area.json',
                            type: 'get',
                            data: {},
                            success: function (data) {
                                debugger
                                
                                for(var i=0;i<data.length;i++){
                                    $('#maintainArea1Id')[0]['maintainArea'+data[i].code]=data[i].children
                                }
                                $('#maintainArea2Id').combobox('reload')

                                success({rows:data});
                            }
                        })
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea1Id=newValue
                        item.maintainArea1Name= $('#maintainArea1Id').combobox('getText')

                        item.maintainArea2Id=null;
                        item.maintainArea2Name=null;
                        $('#maintainArea2Id').combobox('setText',null)
                        $('#maintainArea2Id').combobox('setValue',null)

                        item.maintainArea3Id=null;
                        item.maintainArea3Name=null;
                        $('#maintainArea3Id').combobox('setText',null)
                        $('#maintainArea3Id').combobox('setValue',null)


                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea1Id=null;
                            item.maintainArea1Name=null;
                            $('#maintainArea1Id').combobox('setText',null)
                            $('#maintainArea1Id').combobox('setValue',null)

                            item.maintainArea2Id=null;
                            item.maintainArea2Name=null;
                            $('#maintainArea2Id').combobox('setText',null)
                            $('#maintainArea2Id').combobox('setValue',null)

                            item.maintainArea3Id=null;
                            item.maintainArea3Name=null;
                            $('#maintainArea3Id').combobox('setText',null)
                            $('#maintainArea3Id').combobox('setValue',null)

                        }
                    }]
                    ">
                    <input id="maintainArea2Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea2Id,
                    text:item.maintainArea2Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },

                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#maintainArea1Id')[0]['maintainArea'+item.maintainArea1Id];
                        for(var i=0;ss && i<ss.length;i++){
                            debugger
                            $('#maintainArea2Id')[0]['maintainArea'+ss[i].code]=ss[i].children
                        }
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea2Id=newValue
                        item.maintainArea2Name= $('#maintainArea2Id').combobox('getText')

                        item.maintainArea3Id=null;
                        item.maintainArea3Name=null;
                        $('#maintainArea3Id').combobox('setText',null)
                        $('#maintainArea3Id').combobox('setValue',null)

                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea2Id=null;
                            item.maintainArea2Name=null;
                            $('#maintainArea2Id').combobox('setText',null)
                            $('#maintainArea2Id').combobox('setValue',null)

                            item.maintainArea3Id=null;
                            item.maintainArea3Name=null;
                            $('#maintainArea3Id').combobox('setText',null)
                            $('#maintainArea3Id').combobox('setValue',null)
                        }
                    }]
                    ">
                    <input id="maintainArea3Id" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea3Id,
                    text:item.maintainArea3Name,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#maintainArea2Id')[0]['maintainArea'+item.maintainArea2Id];
                        
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea3Id=newValue
                        item.maintainArea3Name= $('#maintainArea3Id').combobox('getText')

                       
                        
                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea3Id=null;
                            item.maintainArea3Name=null;
                            $('#maintainArea3Id').combobox('setText',null)
                            $('#maintainArea3Id').combobox('setValue',null)
                        }
                    }]
                    "></td>
            </tr>
            <tr>
                <td>地区2</td>
                <td><input id="maintainArea1Id1" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea1Id1,
                    text:item.maintainArea1Name1,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        $.ajax({
                            url: '../other/area.json',
                            type: 'get',
                            data: {},
                            success: function (data) {
                                debugger
                                
                                for(var i=0;i<data.length;i++){
                                    $('#maintainArea1Id1')[0]['maintainArea'+data[i].code]=data[i].children
                                }
                                $('#maintainArea2Id1').combobox('reload')

                                success({rows:data});
                            }
                        })
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea1Id1=newValue
                        item.maintainArea1Name1= $('#maintainArea1Id1').combobox('getText')

                        item.maintainArea2Id1=null;
                        item.maintainArea2Name1=null;
                        $('#maintainArea2Id1').combobox('setText',null)
                        $('#maintainArea2Id1').combobox('setValue',null)

                        item.maintainArea3Id1=null;
                        item.maintainArea3Name1=null;
                        $('#maintainArea3Id1').combobox('setText',null)
                        $('#maintainArea3Id1').combobox('setValue',null)


                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea1Id1=null;
                            item.maintainArea1Name1=null;
                            $('#maintainArea1Id1').combobox('setText',null)
                            $('#maintainArea1Id1').combobox('setValue',null)

                            item.maintainArea2Id1=null;
                            item.maintainArea2Name1=null;
                            $('#maintainArea2Id1').combobox('setText',null)
                            $('#maintainArea2Id1').combobox('setValue',null)

                            item.maintainArea3Id1=null;
                            item.maintainArea3Name1=null;
                            $('#maintainArea3Id1').combobox('setText',null)
                            $('#maintainArea3Id1').combobox('setValue',null)

                        }
                    }]
                    ">
                    <input id="maintainArea2Id1" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea2Id1,
                    text:item.maintainArea2Name1,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },

                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#maintainArea1Id1')[0]['maintainArea'+item.maintainArea1Id1];
                        for(var i=0;ss && i<ss.length;i++){
                            debugger
                            $('#maintainArea2Id1')[0]['maintainArea'+ss[i].code]=ss[i].children
                        }
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea2Id1=newValue
                        item.maintainArea2Name1= $('#maintainArea2Id1').combobox('getText')

                        item.maintainArea3Id1=null;
                        item.maintainArea3Name1=null;
                        $('#maintainArea3Id1').combobox('setText',null)
                        $('#maintainArea3Id1').combobox('setValue',null)

                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea2Id1=null;
                            item.maintainArea2Name1=null;
                            $('#maintainArea2Id1').combobox('setText',null)
                            $('#maintainArea2Id1').combobox('setValue',null)

                            item.maintainArea3Id1=null;
                            item.maintainArea3Name1=null;
                            $('#maintainArea3Id1').combobox('setText',null)
                            $('#maintainArea3Id1').combobox('setValue',null)
                        }
                    }]
                    ">
                    <input id="maintainArea3Id1" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea3Id1,
                    text:item.maintainArea3Name1,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#maintainArea2Id1')[0]['maintainArea'+item.maintainArea2Id1];
                        
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea3Id1=newValue
                        item.maintainArea3Name1= $('#maintainArea3Id1').combobox('getText')

                       
                        
                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea3Id1=null;
                            item.maintainArea3Name1=null;
                            $('#maintainArea3Id1').combobox('setText',null)
                            $('#maintainArea3Id1').combobox('setValue',null)
                        }
                    }]
                    "></td>
            </tr>
            <tr>
                <td>地区3</td>
                <td><input id="maintainArea1Id2" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea1Id2,
                    text:item.maintainArea1Name2,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        $.ajax({
                            url: '../other/area.json',
                            type: 'get',
                            data: {},
                            success: function (data) {
                                debugger
                                
                                for(var i=0;i<data.length;i++){
                                    $('#maintainArea1Id2')[0]['maintainArea'+data[i].code]=data[i].children
                                }
                                $('#maintainArea2Id2').combobox('reload')

                                success({rows:data});
                            }
                        })
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea1Id2=newValue
                        item.maintainArea1Name2= $('#maintainArea1Id2').combobox('getText')

                        item.maintainArea2Id2=null;
                        item.maintainArea2Name2=null;
                        $('#maintainArea2Id2').combobox('setText',null)
                        $('#maintainArea2Id2').combobox('setValue',null)

                        item.maintainArea3Id2=null;
                        item.maintainArea3Name2=null;
                        $('#maintainArea3Id2').combobox('setText',null)
                        $('#maintainArea3Id2').combobox('setValue',null)


                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea1Id2=null;
                            item.maintainArea1Name2=null;
                            $('#maintainArea1Id2').combobox('setText',null)
                            $('#maintainArea1Id2').combobox('setValue',null)

                            item.maintainArea2Id2=null;
                            item.maintainArea2Name2=null;
                            $('#maintainArea2Id2').combobox('setText',null)
                            $('#maintainArea2Id2').combobox('setValue',null)

                            item.maintainArea3Id2=null;
                            item.maintainArea3Name2=null;
                            $('#maintainArea3Id2').combobox('setText',null)
                            $('#maintainArea3Id2').combobox('setValue',null)

                        }
                    }]
                    ">
                    <input id="maintainArea2Id2" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea2Id2,
                    text:item.maintainArea2Name2,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },

                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#maintainArea1Id2')[0]['maintainArea'+item.maintainArea1Id2];
                        for(var i=0;ss && i<ss.length;i++){
                            debugger
                            $('#maintainArea2Id2')[0]['maintainArea'+ss[i].code]=ss[i].children
                        }
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea2Id2=newValue
                        item.maintainArea2Name2= $('#maintainArea2Id2').combobox('getText')

                        item.maintainArea3Id2=null;
                        item.maintainArea3Name2=null;
                        $('#maintainArea3Id2').combobox('setText',null)
                        $('#maintainArea3Id2').combobox('setValue',null)

                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea2Id2=null;
                            item.maintainArea2Name2=null;
                            $('#maintainArea2Id2').combobox('setText',null)
                            $('#maintainArea2Id2').combobox('setValue',null)

                            item.maintainArea3Id2=null;
                            item.maintainArea3Name2=null;
                            $('#maintainArea3Id2').combobox('setText',null)
                            $('#maintainArea3Id2').combobox('setValue',null)
                        }
                    }]
                    ">
                    <input id="maintainArea3Id2" class="easyui-combobox" style="width:130px;" data-options="
                    value:item.maintainArea3Id2,
                    text:item.maintainArea3Name2,
                    valueField:'code',
                    textField:'name',
                    mode:'remote',
                    onShowPanel:function(){
                        $(this).combobox('reload')
                    },
                    loader: function (param, success, error) {
                        debugger
                        var ss = $('#maintainArea2Id2')[0]['maintainArea'+item.maintainArea2Id2];
                        
                        success({rows:ss?ss:[]});
                    },
                    onChange:function(newValue, oldValue){
                        debugger
                        item.maintainArea3Id2=newValue
                        item.maintainArea3Name2= $('#maintainArea3Id2').combobox('getText')

                       
                        
                    },
                    loadFilter: function (data) {
                        debugger
                        return data.rows;
                    },
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            $(e.data.target).combobox('setValue','');
                            item.maintainArea3Id2=null;
                            item.maintainArea3Name2=null;
                            $('#maintainArea3Id2').combobox('setText',null)
                            $('#maintainArea3Id2').combobox('setValue',null)
                        }
                    }]
                    "></td>
            </tr>
            
            <tr></tr>
             <tr>
                <td>认证&nbsp;</td>
                <td>
                    <span id="renZhengIs"  style="margin-left:5px;"></span>
                    <img src="./favicon.ico" style="display:none;"
                        onload="
                            $('#renZhengIs').text(item.renZhengIs==0?'未认证':item.renZhengIs==1?'通过':item.renZhengIs==2?'拒绝':'')
                        "
                    />
                </td>
            </tr>
            <tr>
                <td>类型&nbsp;</td>
                <td><input id="renZhengType" class="easyui-combobox" style="width:100%" data-options="
                                value:item.renZhengType,
                                editable:false,panelHeight:'auto',
                                data:[{
                                    text: '货主',
                                    value: '1'
                                },{
                                     text: '公司',
                                     value: '2'
                                 },{
                                    text: '工厂',
                                    value: '3'
                                }],
                                 iconWidth:20,
                                 icons:[{
                                     iconCls:'icon-clear',
                                     handler: function(e){
                                         $(e.data.target).combobox('setValue','');
                                     }
                                 }],
                                 onChange:function(newValue, oldValue){
                                    item.renZhengType=newValue
                                 }" /></td>
            </tr>
            <tr>
                <td>真实姓名&nbsp;</td>
                <td><input id="realname" class="easyui-textbox" style="width:100%" data-options="
                    value:item.realname,
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            debugger
                            $(e.data.target).textbox('setValue','');
                        }
                    }],
                    onChange:function(newValue, oldValue){
                        item.realname=newValue
                    }" style="width:200px"></td>
            </tr>
            <tr>
                <td>身份证&nbsp;</td>
                <td>
                    <div id="idCard">
                        <img style="display:none;" src="./favicon.ico" onload="$('#idCard-value').attr('src',item.idCard).parent().viewer({url: 'src',});if(item.idCard) $('#idCard-value').show();" />
                        <img id="idCard-value" style="width:30px;height:30px;object-fit:contain;cursor:pointer;vertical-align: baseline;display:none;" onerror='debugger;$(this).attr("src","./image/image-error.png");' />
                        <input type="file" style="display:none;" onchange="
                            javascript:
                            var target = this;
                            if(this.files.length>0){
                                var file = this.files[0];
                                var fd = new FormData()
                                fd.append('file', file);
                                $.ajax({
                                    url: '/wuliu/upload-file',
                                    type: 'POST',
                                    data: fd,
                                    cache: false,
                                    processData: false,
                                    contentType: false,
                                    async: true,
                                    success: function (res) {
                                        if (res.codeMsg)
                                            $.messager.alert('提示',res.codeMsg)
                                        if (res.code == 0) {
                                            item.idCard=res.data.url 
                                            $(target).prev().attr('src',item.idCard).show()
                                         target.value=null
                                        }
                                    }
                                })
                            }
                        " />
                        <a title="删除" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-clear" plain="true"
                            style="vertical-align: text-bottom;"
                            onclick="$(this).prev().prev().attr('src',null).hide();item.idCard='';"></a>

                        <a title="选择" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-choose" plain="true"
                            style="vertical-align: text-bottom;" onclick="$(this).prev().prev().click()"></a>
                    </div>
                </td>
            </tr>
            <tr>
                <td>公司&nbsp;</td>
                <td><input id="company" class="easyui-textbox" style="width:100%" data-options="
                    value:item.company,
                    iconWidth:20,
                    icons:[{
                        iconCls:'icon-clear',
                        handler: function(e){
                            debugger
                            $(e.data.target).textbox('setValue','');
                        }
                    }],
                    onChange:function(newValue, oldValue){
                        item.company=newValue
                    }" style="width:200px"></td>
            </tr>
            <tr>
                <td>营业执照&nbsp;</td>
                <td>
                    <div id="yingYeZhiZhao">
                        <img style="display:none;" src="./favicon.ico" onload="$('#yingYeZhiZhao-value').attr('src',item.yingYeZhiZhao).parent().viewer({url: 'src',});if(item.yingYeZhiZhao) $('#yingYeZhiZhao-value').show();" />
                        <img id="yingYeZhiZhao-value" style="width:30px;height:30px;object-fit:contain;cursor:pointer;vertical-align: baseline;display:none;" onerror='debugger;$(this).attr("src","./image/image-error.png");' />
                        <input type="file" style="display:none;" onchange="
                            javascript:
                            var target = this;
                            if(this.files.length>0){
                                var file = this.files[0];
                                var fd = new FormData()
                                fd.append('file', file);
                                $.ajax({
                                    url: '/wuliu/upload-file',
                                    type: 'POST',
                                    data: fd,
                                    cache: false,
                                    processData: false,
                                    contentType: false,
                                    async: true,
                                    success: function (res) {
                                        if (res.codeMsg)
                                            $.messager.alert('提示',res.codeMsg)
                                        if (res.code == 0) {
                                            item.yingYeZhiZhao=res.data.url 
                                            $(target).prev().attr('src',item.yingYeZhiZhao).show()
                                         target.value=null
                                        }
                                    }
                                })
                            }
                        " />
                        <a title="删除" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-clear" plain="true"
                            style="vertical-align: text-bottom;"
                            onclick="$(this).prev().prev().attr('src',null).hide();item.yingYeZhiZhao='';"></a>

                        <a title="选择" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-choose" plain="true"
                            style="vertical-align: text-bottom;" onclick="$(this).prev().prev().click()"></a>
                    </div>
                </td>
            </tr>
            <tr></tr>
           <tr>
                <td>服务商认证&nbsp;</td>
                <td>
                    <span id="fuWuShangRenZhengIs"  style="margin-left:5px;"></span>
                    <img src="./favicon.ico" style="display:none;"
                        onload="
                            $('#fuWuShangRenZhengIs').text(item.fuWuShangRenZhengIs==0?'未认证':item.fuWuShangRenZhengIs==1?'通过':item.fuWuShangRenZhengIs==2?'拒绝':'')
                        "
                    />
                </td>
            </tr>
            <tr>
                <td>服务商简介&nbsp;</td>
                <td><input id="fuWuShangIntro" class="easyui-textbox" style="width:100%;height:200px;padding: 3px 3px;" data-options="
                        value:item.fuWuShangIntro,
                        multiline:true,
                        onChange:function(newValue, oldValue){
                            item.fuWuShangIntro=newValue
                        }" style="width:200px"></td>
            </tr>
            <tr></tr>
            <tr>
                <td>冻结&nbsp;</td>
                <td>
                    <span id="frozen"  style="margin-left:5px;"></span>
                    <img src="./favicon.ico" style="display:none;"
                        onload="
                            $('#frozen').text(item.frozen==1?'是':item.frozen==0?'否':'')
                        "
                    />
                </td>
            </tr>
            <tr>
                <td>冻结备注&nbsp;</td>
                <td>
                    <div id="frozenNote" style="margin-left:5px;padding: 5px 0;word-wrap: break-word; white-space: normal;"></div>
                    <img src="./favicon.ico" onload="$('#frozenNote').text(item.frozenNote||'')" style="display:none;"/>
                </td>
            </tr>
            <tr>
                <td>创建时间&nbsp;</td>
                <td>
                    <input id="insertTime" class="easyui-datetimebox" style="width:100%" 
                        data-options="
                            value:moment(item.insertTime).format('YYYY-MM-DD H:mm:ss'),
                            editable:false,
                            icons:[{
                                iconCls:'icon-clear',
                                handler: function(e){
                                    $(e.data.target).datetimebox('setValue','');
                                }
                            }],
                            onChange:function(newValue, oldValue){
                                item.insertTime=newValue
                            }
                        "
                    />
                </td>
            </tr>
            <tr>
                <td>最后活跃时间&nbsp;</td>
                <td>
                    <span id="lastAliveTime"  style="margin-left:5px;"></span>
                    <img src="./favicon.ico" onload="$('#lastAliveTime').text(item.lastAliveTime?moment(item.lastAliveTime).format('YYYY-MM-DD HH:mm:ss'):'')" style="display:none;"/>
                </td>
            </tr>

        </tbody>
    </table>

    <div id="datagridFoot" style="padding:2px 5px;">
        <a id="update" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-edit"  plain="true"
            onclick="$('#update,#remove,#reload,#updatePasswordPageEntrance,#freeze,#unfreeze,#resultManage').hide();$('#updateConfirm,#updateCancel').show()"
            >修改
        </a>
        <a id="updateConfirm" href="JavaScript:void(0)" class="easyui-linkbutton" style="display:none;" iconCls="icon-ok"  plain="true" 
            onclick="itemUpdate()"
            >确认
        </a>
        <a id="updateCancel" href="JavaScript:void(0)" class="easyui-linkbutton" style="display:none;" iconCls="icon-cancel"  plain="true" 
            onclick="location.reload()"
            >取消
        </a>
        <a id="remove" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-remove"  plain="true" 
            onclick="itemDelete()"
            >删除
        </a>
        <a id="reload" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-reload"  plain="true" 
            onclick="$.messager.confirm('提示','已编辑的数据将丢失, 确认继续吗?',function(r){if(r) location.reload()})"
            >刷新
        </a>

        <a id="reload" href="JavaScript:void(0)" class="easyui-linkbutton"   plain="true" 
            onclick="
                $.messager.prompt('修改密码', '请输入新密码', function (data)
                {
                    if (data)
                    {
                        $.ajax({
                            type: 'post',
                            url: '/wuliu/maintain/user-manage/set-password',
                            data: {userId:item.userId,password:data},
                            success: function (res) {
                                debugger
                                if (res.codeMsg)
                                    $.messager.alert('提示',res.codeMsg);
                                if (res.code == 0) {
                                    if (!res.codeMsg)
                                        $.messager.alert('提示','操作成功',null,function(){ location.reload()});
                                } 
                            }
                        })
                    }
                });
            "
            >修改密码
        </a>

        <a id="renZhengPass" href="JavaScript:void(0)" class="easyui-linkbutton" style="" iconCls=""  plain="true" 
            onclick="
               
                            $.messager.confirm('提示','确认通过认证吗？', function(r){
                                if(r)
                                $.ajax({
                                                    type: 'post',
                                                    url: '/wuliu/maintain/user-manage/ren-zheng-pass',
                                                    data: {userId:item.userId},
                                                    success: function (res) {
                                                        debugger
                                                        if (res.codeMsg)
                                                            $.messager.alert('提示',res.codeMsg);
                                                        if (res.code == 0) {
                                                            if (!res.codeMsg)
                                                                $.messager.alert('提示','操作成功',null,function(){ location.reload()});
                                                        } 
                                                    }
                                                })
                                });   
            "
            >认证通过
        </a>

        <a id="renZhengUnpass" href="JavaScript:void(0)" class="easyui-linkbutton" style="" iconCls=""  plain="true" 
            onclick="
                 $.messager.prompt('提示','请输入拒绝原因',function(r){
                        if (r){
                            var note = r;
                            $.messager.confirm('提示','确认拒绝认证吗？', function(r){
                                if(r)
                                $.ajax({
                                                    type: 'post',
                                                    url: '/wuliu/maintain/user-manage/ren-zheng-unpass',
                                                    data: {userId:item.userId,note:note},
                                                    success: function (res) {
                                                        debugger
                                                        if (res.codeMsg)
                                                            $.messager.alert('提示',res.codeMsg);
                                                        if (res.code == 0) {
                                                            if (!res.codeMsg)
                                                                $.messager.alert('提示','操作成功',null,function(){ location.reload()});
                                                        } 
                                                    }
                                                })
                                });     

                                    }
                            })   
            "
            >认证拒绝
        </a>

        <a id="fuWuShangRenZhengPass" href="JavaScript:void(0)" class="easyui-linkbutton" style="" iconCls=""  plain="true" 
            onclick="
                 $.messager.confirm('提示','确认通过服务商认证吗？', function(r){
                                if(r)
                                $.ajax({
                                                    type: 'post',
                                                    url: '/wuliu/maintain/user-manage/fu-wu-shang-ren-zheng-pass',
                                                    data: {userId:item.userId},
                                                    success: function (res) {
                                                        debugger
                                                        if (res.codeMsg)
                                                            $.messager.alert('提示',res.codeMsg);
                                                        if (res.code == 0) {
                                                            if (!res.codeMsg)
                                                                $.messager.alert('提示','操作成功',null,function(){ location.reload()});
                                                        } 
                                                    }
                                                })
                                });   
            "
            >服务商认证通过
        </a>

        <a id="fuWuShangRenZhengUnpass" href="JavaScript:void(0)" class="easyui-linkbutton" style="" iconCls=""  plain="true" 
            onclick="
                 $.messager.prompt('提示','请输入拒绝原因',function(r){
                        if (r){
                            var note = r;
                            $.messager.confirm('提示','确认拒绝服务商认证吗？', function(r){
                                if(r)
                                $.ajax({
                                                    type: 'post',
                                                    url: '/wuliu/maintain/user-manage/fu-wu-shang-ren-zheng-unpass',
                                                    data: {userId:item.userId,note:note},
                                                    success: function (res) {
                                                        debugger
                                                        if (res.codeMsg)
                                                            $.messager.alert('提示',res.codeMsg);
                                                        if (res.code == 0) {
                                                            if (!res.codeMsg)
                                                                $.messager.alert('提示','操作成功',null,function(){ location.reload()});
                                                        } 
                                                    }
                                                })
                                });     

                                    }
                            })   
            "
            >服务商认证拒绝
        </a>
    </div>
        
</body>
<script>
    $('#datagrid').datagrid()
</script>
</html>